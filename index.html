<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Teluge Agro - Banana Suplayer</title>
  <link rel="icon" href="logo Teluge.jpg" type="image/x-icon">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap');
    body {
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(135deg, #86efac, #4ade80);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }
    .container {
      background: white;
      border-radius: 1.5rem;
      box-shadow: 0 25px 40px rgba(0,0,0,0.1);
      width: 90%;
      max-width: 380px; /* Lebih sempit untuk tampilan portrait */
      min-height: 600px; /* Tinggi untuk portrait */
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem 1.5rem;
      margin: 0 auto;
    }
    
    /* Desktop/Large screen styles */
    @media (min-width: 768px) {
      .container {
        max-width: 600px;
        padding: 3rem 2rem 3.5rem;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      p.desc {
        font-size: 1.1rem;
        margin-bottom: 2.5rem;
      }
      
      .avatar {
        width: 120px;
        height: 120px;
        margin-bottom: 1.5rem;
      }
      
      button.link-btn {
        padding: 1rem 2rem;
        font-size: 1.2rem;
      }
      
      button.link-btn img {
        width: 32px;
        height: 32px;
      }
    }
    
    /* Mobile optimization */
    @media (max-width: 480px) {
      .container {
        width: 95%;
        padding: 1.5rem 1rem 2rem;
        border-radius: 1rem;
      }
      
      h1 {
        font-size: 1.5rem;
      }
      
      p.desc {
        font-size: 0.9rem;
        margin-bottom: 1.5rem;
      }
      
      .avatar {
        width: 80px;
        height: 极80px;
        margin-bottom: 1rem;
      }
      
      button.link-btn {
        padding: 0.75rem 1.25rem;
        font-size: 1rem;
      }
      
      button.link-btn img {
        width: 24px;
        height: 24px;
      }
      
      .share-btn {
        width: 40px;
        height: 40px;
        top: 0.5rem;
        right: 0.5rem;
      }
      
      .share-btn svg {
        width: 20px;
        height: 20px;
      }
    }
    
    /* Base styles */
    .avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      border: 4px solid #34d399;
      overflow: hidden;
      margin-bottom: 1.25rem;
      box-shadow: 0 4极px 8px rgb(56 189 138 / 0.35);
      transition: transform 0.3s ease;
      cursor: pointer;
    }
    .avatar:hover {
      transform: scale(1.1);
      box-shadow: 0 10px 15px rgb(52 211 153 / 0.6);
    }
    h1 {
      font-weight: 700;
      margin-bottom: 0.25rem;
    }
    p.desc {
      font-weight: 500;
      color: #065f46;
      font-size: 1rem;
      text-align: center;
      margin-bottom: 2rem;
      line-height: 1.4;
    }
    .links {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    button.link-btn {
      cursor: pointer;
      display: flex;
      align-items: center;
      background: #22c55e;
      color: white;
      font-weight: 600;
      padding: 0.85rem 1.5rem;
      border-radius: 9999px;
      border: none;
      font-size: 1.1rem;
      box-shadow: 0 6px 10px rgb(34 197 94 / 0.3);
      transition:
        background-color 0.3s ease,
        box-shadow 0.3s ease,
        transform 0.3s ease;
    }
    button.link-btn:hover, button.link-btn:focus {
      background-color: #16a34a;
      box-shadow: 0 12px 20px rgb(22 163 74 / 0.6);
      transform: translateY(-2px);
      outline: none;
    }
    button.link-btn img {
      width: 28px;
      height: 28px;
      border-radius: 0.375rem;
      margin-right: 1rem;
      filter: drop-shadow(0 2px 2px rgba(0,0,0,0.15));
      transition: transform 0.3s ease;
    }
    button.link-btn:hover img {
      transform: scale(1.15);
    }
    footer {
      margin-top: 2.5rem;
      font-size: 0.85rem;
      color: #065f46cc;
      user-select: none;
    }
    /* Share button on top right */
    .share-btn {
      position: fixed;
      top: 1rem;
      right: 1rem;
      background: white;
      border-radius: 50%;
      width: 44px;
      height: 44px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background-color 0.3s ease;
      border: 2px solid transparent;
    }
    .share-btn:hover {
      background-color: #4ade80;
      border-color: #22c55e;
    }
    .share-btn svg {
      width: 24px;
      height: 24px;
      stroke: #065f46;
      stroke-width: 2.3;
      stroke-linecap: round;
      stroke-linejoin: round;
      transition: stroke 0.3s ease;
    }
    .share-btn:hover svg {
      stroke: white;
    }
    /* Interactive alert popup */
    .toast {
      position: fixed;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%);
      background: #4ade80;
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 1rem;
      box-shadow: 0 8px 15px rgba(34,197,94,0.7);
      font-weight: 600;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s ease;
      z-index: 99;
    }
    .toast.show {
      opacity: 1;
      pointer-events: auto;
    }
  </style>
</head>
<body>
  <button aria-label="Bagikan Profil" title="Bagikan Profil" class="share-btn" id="shareBtn">
    <svg fill="none" viewBox="0 0 24 24" aria-hidden="true" >
      <path d="M4 12v1a3 3 0 003 3h10M16 8l5-5m0 0l-5-5m5 5H9" />
    </svg>
  </button>

  <main role="main" class="container" aria-label="Profil bio TeluGe Agro">
    <div class="avatar" tabindex="0" aria-label="Logo perusahaan TeluGe Agro">
      <img 
        src="/logo Teluge.jpg" 
        alt="Logo TeluGe Agro dengan tulisan TeluGe Agro dan ilustrasi pisang berwarna hijau dan oranye" 
        width="100" height="100"
        onerror="this.onerror=null; this.src='https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/c55cbda9-aa84-46e6-9466-e6d6f80a0d34.png';"
      />
    </div>

    <h1>@telugeagro</h1>
    <p class="desc">Supplier Pisang Dan Spesialis - Good Bananas Supplier & Specialist Until Export, Purworejo Central Java ID</p>

    <nav class="links" aria-label="Tautan Aplikasi dan Media Sosial">
      <button class="link-btn" onclick="openLink('https://www.tokopedia.com/telugeagro')" aria-label="Buka Tokopedia TeluGe Agro">
        <img src="Logo Tokopedia (1).png" alt="Logo hijau Tokopedia berbentuk burung hantu" onerror="this.onerror=null; this.src='https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/d597cd25-28d1-487d-abd7-4e7cc6d246f0.png';"/>
        Tokopedia
      </button>
      <button class="link-btn" onclick="openLink('https://shopee.co.id/t3luge_agro?is_from_login=true')" aria-label="Buka Shopee TeluGe Agro">
        <img src="Logo Shopee.png" alt="Logo oranye Shopee berupa tas belanja" onerror="this.onerror=null; this.src='https://placehold.co/28x28/png?text=Error';"/>
        Shopee
      </button>
      <button class="link-btn" onclick="openLink('https://www.instagram.com/teluge_agro?igsh=cXR3YWtxaDNnYjJw')" aria-label="Buka Instagram TeluGe Agro">
        <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Logo Instagram berwarna gradasi merah, ungu, dan oranye membentuk kamera" onerror="this.onerror=null; this.src='https://placehold.co/28x28/png?text=Error';"/>
        Instagram
      </button>
      <button class="link-btn" onclick="openWhatsApp()" aria-label="Hubungi WhatsApp TeluGe Agro">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="Logo WhatsApp berwarna hijau" onerror="this.onerror=null; this.src='https://placehold.co/28x28/png?text=Error';"/>
        WhatsApp
      </button>
      <button class="link-btn" onclick="openLink('https://www.facebook.com/TelugeAgro?rdid=ba1ZrBdIXWKmtGmH&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2F1CPJqr4wzQ%2F%23')" aria-label="Buka Facebook TeluGe Agro">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Logo Facebook berwarna biru" onerror="this.onerror=null; this.src='https://placehold.co/28x28/png?text=Error';"/>
        Facebook
      </button>
      <button class="link-btn" onclick="openLink('https://www.google.com/maps/place/Teluge+Agro+-+Supplier+Pisang+dan+Spesialis/@-7.7408703,109.9370574,692m/data=!3m2!1e3!4b1!4m6!3m5!1s0x2e7ac390dce0a6eb:0xf0cb3eb8af2c7312!8m2!3d-7.7408703!4d109.9370574!16s%2Fg%2F11hfg1m849?entry=ttu&g_ep=EgoyMDI5MDgyNS4wIKXMDSoASAFQAw%3D%3D')" aria-label="Buka Google Maps TeluGe Agro">
        <img src="/Logo Maps.png" alt="Logo Google Maps berwarna merah" onerror="this.onerror=null; this.src='https://placehold.co/28x28/png?text=Error';"/>
        Google Maps
      </button>
    </nav>
  </main>

  <!-- Admin Account Button -->
  <button id="accountBtn" aria-label="Account Menu" title="Account Menu" class="share-btn" style="top: 5rem; right: 1rem;">
    <svg fill="none" viewBox="0 0 24 24" aria-hidden="true" >
      <circle cx="12" cy="7" r="4" stroke="#065f46" stroke-width="2"/>
      <path d="M5 21c0-3 6-3 7-3s7 0 7 3" stroke="#065f46" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </button>

  <!-- Login Modal -->
  <div id="loginModal" role="dialog" aria-modal="true" aria-labelledby="loginTitle" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50">
    <div class="bg-white rounded-lg p-6 w-80 max-w-full shadow-lg">
      <h2 id="loginTitle" class="text-xl font-bold mb-4 text-center text-green-700">Admin Login</h2>
      <form id="loginForm" class="flex flex-col gap-4">
        <label for="username" class="font-semibold text-green-600">Username</label>
        <input type="text" id="username" name="username" required class="border border-green-400 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500" />
        <label for="password" class="font-semibold text-green-600">Password</label>
        <input type="password" id="password" name="password" required class="border border-green-400 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500" />
        <button type="submit" class="bg-green-600 text-white rounded py-2 font-semibold hover:bg-green-700 transition">Login</button>
        <button type="button" id="loginCancel" class="mt-2 text-center text-green-600 hover:underline">Cancel</button>
      </form>
      <p id="loginError" class="text-red-600 mt-2 hidden" role="alert"></p>
    </div>
  </div>

  <div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true"></div>

  <script>
    // Hardcoded credentials for demo
    const ADMIN_USERNAME = 'teluge@admin.app';
    const ADMIN_PASSWORD = 'teluge2025';

    const accountBtn = document.getElementById('accountBtn');
    const loginModal = document.getElementById('loginModal');
    const loginForm = document.getElementById('loginForm');
    const loginCancel = document.getElementById('loginCancel');
    const loginError = document.getElementById('loginError');

    function isLoggedIn() {
      return localStorage.getItem('adminLoggedIn') === 'true';
    }

    function showLoginModal() {
      loginError.classList.add('hidden');
      loginForm.reset();
      loginModal.classList.remove('hidden');
    }

    function hideLoginModal() {
      loginModal.classList.add('hidden');
    }

    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    accountBtn.addEventListener('click', () => {
      if (isLoggedIn()) {
        showAdminMenu();
      } else {
        showLoginModal();
      }
    });

    loginCancel.addEventListener('click', () => {
      hideLoginModal();
    });

    loginForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const username = loginForm.username.value.trim();
      const password = loginForm.password.value.trim();

      if (username === ADMIN_USERNAME && password === ADMIN_PASSWORD) {
        localStorage.setItem('adminLoggedIn', 'true');
        hideLoginModal();
        showToast('Login berhasil!');
        showAdminMenu();
      } else {
        loginError.textContent = 'Username atau password salah.';
        loginError.classList.remove('hidden');
      }
    });

    // Admin menu UI
    let adminMenu;

    function showAdminMenu() {
      if (!adminMenu) {
        adminMenu = document.createElement('div');
        adminMenu.setAttribute('role', 'menu');
        adminMenu.style.position = 'fixed';
        adminMenu.style.top = '5rem';
        adminMenu.style.right = '1rem';
        adminMenu.style.background = 'white';
        adminMenu.style.border = '1px solid #34d399';
        adminMenu.style.borderRadius = '0.5rem';
        adminMenu.style.boxShadow = '0 4px 12px rgba(0,0,0,0.15)';
        adminMenu.style.zIndex = '60';
        adminMenu.style.minWidth = '140px';
        adminMenu.style.padding = '0.5rem 0';

        const manageWebBtn = document.createElement('button');
        manageWebBtn.textContent = 'Manage Web';
        manageWebBtn.style.display = 'block';
        manageWebBtn.style.width = '100%';
        manageWebBtn.style.padding = '0.5rem 1rem';
        manageWebBtn.style.background = 'none';
        manageWebBtn.style.border = 'none';
        manageWebBtn.style.textAlign = 'left';
        manageWebBtn.style.cursor = 'pointer';
        manageWebBtn.style.color = '#065f46';
        manageWebBtn.style.fontWeight = '600';
        manageWebBtn.addEventListener('mouseenter', () => manageWebBtn.style.background = '#d1fae5');
        manageWebBtn.addEventListener('mouseleave', () => manageWebBtn.style.background = 'none');
        manageWebBtn.addEventListener('click', () => {
          toggleEditingMode();
        });

    let editingMode = false;

    function toggleEditingMode() {
      editingMode = !editingMode;
      const container = document.querySelector('.container');
      const linksContainer = container.querySelector('.links');
      const avatarImg = container.querySelector('.avatar img');
      const mainTitle = container.querySelector('h1');
      const desc = container.querySelector('p.desc');

      if (editingMode) {
        showToast('Editing mode enabled');

        // Enable contenteditable for main title and description
        mainTitle.setAttribute('contenteditable', 'true');
        desc.setAttribute('contenteditable', 'true');

        // Enable drag and drop for links container buttons
        enableDragAndDropLinks(linksContainer);

        // Enable inline editing for link buttons text
        linksContainer.querySelectorAll('button.link-btn').forEach(btn => {
          btn.setAttribute('contenteditable', 'true');
          btn.style.outline = '1px dashed #34d399';
        });

        // Enable URL editing on double click
        enableURLEditing(linksContainer);

        // Show border for container and avatar
        container.style.border = '2px dashed #34d399';
        avatarImg.style.outline = '2px dashed #34d399';
        avatarImg.style.cursor = 'pointer';

        // Add click handler to avatar image to change logo
        avatarImg.addEventListener('click', onChangeLogoClick);

      } else {
        showToast('Editing mode disabled');

        // Remove contenteditable attributes
        mainTitle.removeAttribute('contenteditable');
        desc.removeAttribute('contenteditable');

        linksContainer.querySelectorAll('button.link-btn').forEach(btn => {
          btn.removeAttribute('contenteditable');
          btn.style.outline = 'none';
        });

        // Remove drag and drop handlers
        disableDragAndDropLinks(linksContainer);

        // Remove avatar image outline and cursor
        avatarImg.style.outline = 'none';
        avatarImg.style.cursor = 'default';

        // Remove click handler from avatar image
        avatarImg.removeEventListener('click', onChangeLogoClick);

        container.style.border = 'none';

        saveContent();
      }
    }

    // Drag and drop for links container buttons
    function enableDragAndDropLinks(container) {
      let dragSrcEl = null;

      function handleDragStart(e) {
        dragSrcEl = this;
        e.dataTransfer.effectAllowed = 'move';
        e.dataTransfer.setData('text/html', this.outerHTML);
        this.classList.add('dragElem');
      }

      function handleDragOver(e) {
        if (e.preventDefault) {
          e.preventDefault();
        }
        e.dataTransfer.dropEffect = 'move';
        return false;
      }

      function handleDragEnter() {
        this.classList.add('over');
      }

      function handleDragLeave() {
        this.classList.remove('over');
      }

      function handleDrop(e) {
        if (e.stopPropagation) {
          e.stopPropagation();
        }
        if (dragSrcEl !== this) {
          this.parentNode.removeChild(dragSrcEl);
          const dropHTML = e.dataTransfer.getData('text/html');
          this.insertAdjacentHTML('beforebegin', dropHTML);
          const dropElem = this.previousSibling;
          addDnDHandlersLinks(dropElem);
        }
        this.classList.remove('over');
        return false;
      }

      function handleDragEnd() {
        this.classList.remove('dragElem');
        const items = container.querySelectorAll('button.link-btn');
        items.forEach(function (item) {
          item.classList.remove('over');
        });
      }

      function addDnDHandlersLinks(elem) {
        elem.setAttribute('draggable', 'true');
        elem.addEventListener('dragstart', handleDragStart, false);
        elem.addEventListener('dragenter', handleDragEnter, false);
        elem.addEventListener('dragover', handleDragOver, false);
        elem.addEventListener('dragleave', handleDragLeave, false);
        elem.addEventListener('drop', handleDrop, false);
        elem.addEventListener('dragend', handleDragEnd, false);
      }

      const items = container.querySelectorAll('button.link-btn');
      items.forEach(addDnDHandlersLinks);
    }

    function disableDragAndDropLinks(container) {
      const items = container.querySelectorAll('button.link-btn');
      items.forEach(function (item) {
        item.removeAttribute('draggable');
        item.removeEventListener('dragstart', null);
        item.removeEventListener('dragenter', null);
        item.removeEventListener('dragover', null);
        item.removeEventListener('dragleave', null);
        item.removeEventListener('drop', null);
        item.removeEventListener('dragend', null);
      });
    }

    // Change logo image handler
    function onChangeLogoClick() {
      const url = prompt('Masukkan URL gambar logo baru:');
      if (url) {
        const avatarImg = document.querySelector('.avatar img');
        avatarImg.src = url;
        saveContent();
      }
    }

    function saveContent() {
      const container = document.querySelector('.container');
      localStorage.setItem('editedContent', container.innerHTML);
      showToast('Changes saved');
    }

    function loadContent() {
      const saved = localStorage.getItem('editedContent');
      if (saved) {
        const container = document.querySelector('.container');
        container.innerHTML = saved;
      }
    }


    // Undo/Redo functionality
    let historyStack = [];
    let historyPointer = -1;
    const MAX_HISTORY = 50;

    function saveToHistory() {
      const container = document.querySelector('.container');
      const currentState = container.innerHTML;
      
      // Remove future states if we're not at the end
      if (historyPointer < historyStack.length - 1) {
        historyStack = historyStack.slice(0, historyPointer + 1);
      }
      
      historyStack.push(currentState);
      historyPointer = historyStack.length - 1;
      
      // Limit history size
      if (historyStack.length > MAX_HISTORY) {
        historyStack.shift();
        historyPointer = historyStack.length - 1;
      }
    }

    function undo() {
      if (historyPointer > 0) {
        historyPointer--;
        const container = document.querySelector('.container');
        container.innerHTML = historyStack[historyPointer];
        showToast('Undo');
      } else {
        showToast('Tidak ada yang bisa di-undo');
      }
    }

    function redo() {
      if (historyPointer < historyStack.length - 1) {
        historyPointer++;
        const container = document.querySelector('.container');
        container.innerHTML = historyStack[historyPointer];
        showToast('Redo');
      } else {
        showToast('Tidak ada yang bisa di-redo');
      }
    }

    // URL editing functionality
    function enableURLEditing(linksContainer) {
      linksContainer.querySelectorAll('button.link-btn').forEach((btn, index) => {
        btn.addEventListener('dblclick', (e) => {
          e.preventDefault();
          e.stopPropagation();
          
          const currentURL = btn.getAttribute('onclick');
          let url = '';
          
          if (currentURL) {
            if (currentURL.includes('openLink')) {
              url = currentURL.match(/openLink\('([^']+)'\)/)[1];
            } else if (currentURL.includes('openWhatsApp')) {
              url = 'whatsapp:' + btn.querySelector('img').alt.toLowerCase().includes('whatsapp');
            }
          }
          
          const newURL = prompt('Edit URL tujuan:', url || 'https://');
          if (newURL !== null) {
            if (newURL.trim() !== '') {
              if (btn.textContent.toLowerCase().includes('whatsapp')) {
                btn.setAttribute('onclick', `openWhatsAppCustom('${newURL}')`);
              } else {
                btn.setAttribute('onclick', `openLink('${newURL}')`);
              }
              saveContent();
              saveToHistory();
            }
          }
        });
      });
    }

    function openWhatsAppCustom(phoneNumber) {
      const message = 'Halo Teluge Agro, saya tertarik dengan produk pisang Anda!';
      const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
      window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
    }

    // Load saved content on page load if admin logged in
    if (isLoggedIn()) {
      loadContent();
      // Initialize history with current state
      saveToHistory();
    }

        const logoutBtn = document.createElement('button');
        logoutBtn.textContent = 'Logout';
        logoutBtn.style.display = 'block';
        logoutBtn.style.width = '100%';
        logoutBtn.style.padding = '0.5rem 1rem';
        logoutBtn.style.background = 'none';
        logoutBtn.style.border = 'none';
        logoutBtn.style.textAlign = 'left';
        logoutBtn.style.cursor = 'pointer';
        logoutBtn.style.color = '#dc2626';
        logoutBtn.style.fontWeight = '600';
        logoutBtn.addEventListener('mouseenter', () => logoutBtn.style.background = '#fecaca');
        logoutBtn.addEventListener('mouseleave', () => logoutBtn.style.background = 'none');
        logoutBtn.addEventListener('click', () => {
          localStorage.removeItem('adminLoggedIn');
          if (adminMenu) {
            adminMenu.remove();
            adminMenu = null;
          }
          showToast('Logged out.');
        });

        // Add undo/redo buttons
        const undoBtn = document.createElement('button');
        undoBtn.textContent = 'Undo';
        undoBtn.style.display = 'block';
        undoBtn.style.width = '100%';
        undoBtn.style.padding = '0.5rem 1rem';
        undoBtn.style.background = 'none';
        undoBtn.style.border = 'none';
        undoBtn.style.textAlign = 'left';
        undoBtn.style.cursor = 'pointer';
        undoBtn.style.color = '#065f46';
        undoBtn.style.fontWeight = '600';
        undoBtn.addEventListener('mouseenter', () => undoBtn.style.background = '#d1fae5');
        undoBtn.addEventListener('mouseleave', () => undoBtn.style.background = 'none');
        undoBtn.addEventListener('click', () => {
          undo();
        });

        const redoBtn = document.createElement('button');
        redoBtn.textContent = 'Redo';
        redoBtn.style.display = 'block';
        redoBtn.style.width = '100%';
        redoBtn.style.padding = '0.5rem 1rem';
        redoBtn.style.background = 'none';
        redoBtn.style.border = 'none';
        redoBtn.style.textAlign = 'left';
        redoBtn.style.cursor = 'pointer';
        redoBtn.style.color = '#065f46';
        redoBtn.style.fontWeight = '600';
        redoBtn.addEventListener('mouseenter', () => redoBtn.style.background = '#d1fae5');
        redoBtn.addEventListener('mouseleave', () => redoBtn.style.background = 'none');
        redoBtn.addEventListener('click', () => {
          redo();
        });

        adminMenu.appendChild(manageWebBtn);
        adminMenu.appendChild(undoBtn);
        adminMenu.appendChild(redoBtn);
        adminMenu.appendChild(logoutBtn);
        document.body.appendChild(adminMenu);
      }
    }

    // On page load, if logged in, show admin menu
    if (isLoggedIn()) {
      showAdminMenu();
    }

    function openLink(url) {
      window.open(url, '_blank', 'noopener,noreferrer');
    }

    function openWhatsApp() {
      const phoneNumber = '+628112638318';
      const message = 'Halo Teluge Agro, saya tertarik dengan produk pisang Anda!';
      const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
      window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
    }

    const shareBtn = document.getElementById('shareBtn');
    const toast = document.getElementById('toast');

    shareBtn.addEventListener('click', async () => {
      if (navigator.share) {
        try {
          await navigator.share({
            title: 'TeluGe Agro',
            text: 'Supplier Pisang dan Spesialis - Good Bananas Supplier & Specialist from Purworejo',
            url: window.location.href,
          });
          showToast('Profil berhasil dibagikan!');
        } catch (err) {
          showToast('Berbagi dibatalkan atau gagal.');
        }
      } else {
        fallbackCopyText(window.location.href);
      }
    });

    function fallbackCopyText(text) {
      navigator.clipboard.writeText(text).then(() => {
        showToast('Link profil disalin ke clipboard!');
      }).catch(() => {
        showToast('Tidak dapat membagikan atau menyalin link');
      });
    }

    let toastTimeout;
    function showToast(message) {
      clearTimeout(toastTimeout);
      toast.textContent = message;
      toast.classList.add('show');
      toastTimeout = setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }
  </script>
</body>
</html>

